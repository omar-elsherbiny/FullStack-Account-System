<header>
  <link rel="stylesheet" href="/css/header.css" />
  <a href="/">
    <h1>Home</h1>
  </a>
  <div>
    <% if (locals.username) { %>
    <h4><%= displayName %></h4>
    <img class="header-profile-picture" src=<%= pfpPath %> alt="header profile picture of user">
    <div class="hamburger-menu-container">
      <div class="hamburger-menu closed">
        <div><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor" d="m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zm2.8-6.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5" />
          </svg>
          <a href="/account">Account</a>
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor" d="M12 12q-1.65 0-2.825-1.175T8 8t1.175-2.825T12 4t2.825 1.175T16 8t-1.175 2.825T12 12m-8 8v-2.8q0-.85.438-1.562T5.6 14.55q1.55-.775 3.15-1.162T12 13t3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2V20z" />
          </svg>
          <a href="/profile">Profile</a>
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor" d="M5 21q-.825 0-1.412-.587T3 19v-4h2v4h14V5H5v4H3V5q0-.825.588-1.412T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.587 1.413T19 21zm5.5-4l-1.4-1.45L11.65 13H3v-2h8.65L9.1 8.45L10.5 7l5 5z" />
          </svg>
          <a href="/account/log-out">Log out</a>
        </div>
      </div>
    </div>
    <% } else { %>
    <a href="/account/log-in">Log in</a>
    <a href="/account/sign-up">Sign up</a>
    <% }%>
  </div>
</header>
<script>
  const headerProfilePicture = document.querySelector('.header-profile-picture');
  const hamburgerMenu = document.querySelector('.hamburger-menu');

  headerProfilePicture.addEventListener('click', event => {
    hamburgerMenu.classList.toggle('closed');
  });

  document.addEventListener('click', event => {
    if (!hamburgerMenu.contains(event.target) &&
      !headerProfilePicture.contains(event.target)) {
      hamburgerMenu.classList.add('closed');
    }
  });
</script>